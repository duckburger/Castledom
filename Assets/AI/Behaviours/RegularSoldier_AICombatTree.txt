tree("Combat")
	fallback
		while HasLastKnownPosition
			while not HasReachedLastKnown
				sequence
					SetLastKnownAsTarget
					GoToDestination
					repeat 3
						sequence
							ChooseRandomNearLastKnown
							GoToDestination
							Wait 2.0
					sequence
						ExitCombat
						LoseLastKnownPosition
						SetPreCombatPositionAsTarget
						GoToDestination
		while inCombat
			fallback
				while not CombatTargetAlive
					Fail
				while WithinCombatRange
					while CombatTargetAlive	
						parallel
							ChaseCombatTarget
							AttackTarget	
							RestoreStamina
				while EnoughStaminaToRun
					parallel
						SpeedUpToRun
						ChaseCombatTarget
						DepleteStamina
				while recoveringStamina
					sequence
						repeat
							parallel
								SlowDownToWalk
								RestoreStamina
								ChaseCombatTarget
			
